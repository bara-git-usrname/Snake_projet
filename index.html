<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start</title>
    <style>

      html, body {
        height: 100%;
        margin: 0;
        font-family: 'Courier New', monospace;
      }

      body {
        background: #0a0a0a;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }
      #container {
        text-align: center;
      }

      /* Hide views by default */
      .view {
        display: none;
      }

      .view.active {
        display: block;
      }

      #menu {
      padding: 20px;
    }
    </style>
</head>
<body>
    <div id="container">
  
  <!-- MAIN MENU VIEW -->
  <div id="menu" class="view active">
    <h1>üêç SNAKE GAME</h1>
    <button onclick="showLevelSelect()">PLAY GAME</button>
    <button onclick="showLeaderboard()">LEADERBOARD</button>
  </div>

  <!-- LEVEL SELECT VIEW -->
  <div id="levelSelect" class="view">
    <h1>SELECT LEVEL</h1>
    <div class="level-grid">
      <button class="level-button" onclick="">
        LEVEL 1<br>Classic
      </button>
      <button class="level-button" onclick="">
        LEVEL 2<br>Walls
      </button>
      <button class="level-button" onclick="">
        LEVEL 3<br>Maze
      </button>
      <button class="level-button" onclick="">
        LEVEL 4<br>Challenge
      </button>
    </div>
    <button class="back-button" onclick="showMenu()">BACK TO MENU</button>
  </div>

  <!-- GAME VIEW -->
  <div id="game" class="view">
    <div id="scoreDisplay">Score: 0 | Level: 1</div>
    <canvas width="400" height="400" id="gameCanvas"></canvas>
    <div id="gameOverMsg"></div>
    <br>
    <button class="back-button" onclick="">QUIT TO MENU</button>
  </div>

  <!-- LEADERBOARD VIEW -->
  <div id="leaderboard" class="view">
    <h1>üèÜ LEADERBOARD</h1>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Score</th>
          <th>Level</th>
        </tr>
      </thead>
      <tbody id="leaderboardBody">
        <!--JavaScript will complete this part-->
      </tbody>
    </table>
    <button class="back-button" onclick="">BACK TO MENU</button>
  </div>

</div>
<script>
var canvas = document.getElementById('gameCanvas');
var context = canvas.getContext('2d');
var grid = 16;
var count = 0;
var gameRunning = false; //variable for game to run/stop
var currentLevel = 1;
var score = 0;

// Snake
var snake = {
  x: 160,
  y: 160,
  dx: grid,
  dy: 0,
  cells: [],
  maxCells: 4
};

// Apple
var apple = {
  x: 320,
  y: 320
};

//Obstacles
var obstacles = [];
function getLevelObstacles(level) {
  var obs = [];
  
  if (level === 1) {
    // Level 1
    obs = [];
  }
  else if (level === 2) {
    // Level 2
    for (var i = 3; i < 22; i++) {
      obs.push({x: i * grid, y: 3 * grid});
    }
    for (var i = 3; i < 22; i++) {
      obs.push({x: i * grid, y: 21 * grid});
    }
    for (var i = 3; i < 22; i++) {
      obs.push({x: 3 * grid, y: i * grid});
    }
    for (var i = 3; i < 22; i++) {
      obs.push({x: 21 * grid, y: i * grid});
    }
  }
  else if (level === 3) {
    // Level 3
    for (var i = 5; i < 15; i++) {
      obs.push({x: 8 * grid, y: i * grid});
      obs.push({x: 16 * grid, y: i * grid});
    }
    for (var i = 8; i < 17; i++) {
      obs.push({x: i * grid, y: 10 * grid});
    }
  }
  else if (level === 4) {
    // Level 4
    for (var i = 8; i < 17; i++) {
      obs.push({x: 12 * grid, y: i * grid});
      obs.push({x: i * grid, y: 12 * grid});
    }
    for (var i = 0; i < 3; i++) {
      for (var j = 0; j < 3; j++) {
        obs.push({x: i * grid, y: j * grid});
        obs.push({x: (24 - i) * grid, y: j * grid});
        obs.push({x: i * grid, y: (24 - j) * grid});
        obs.push({x: (24 - i) * grid, y: (24 - j) * grid});
      }
    }
  }
  
  return obs;
}
function showView(viewId) {
  // Hide div
  var views = document.getElementsByClassName('view');
  for (var i = 0; i < views.length; i++) {
    views[i].classList.remove('active');
  }
  // show
  document.getElementById(viewId).classList.add('active');
}

function showMenu() {
  showView('menu');
  gameRunning = false;
}

function showLevelSelect() {
  showView('levelSelect');
}

function showLeaderboard() {
  showView('leaderboard');
  //displayLeaderboard();
}

</script>
</body>
</html>